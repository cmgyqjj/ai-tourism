<!--trip-questions-12.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="nav-bar">
    <view class="nav-left" bindtap="goBack">
      <text class="back-icon">â†</text>
    </view>
    <view class="nav-title">
      <text>{{pageTitle}}</text>
    </view>
    <view class="nav-right">
      <view class="user-avatars">
        <view class="user-avatar" wx:for="{{userAvatars}}" wx:key="id">
          <image wx:if="{{item.avatarUrl}}" src="{{item.avatarUrl}}" class="avatar-image" mode="aspectFill" />
          <view wx:else class="avatar-icon">
            {{item.isCurrentUser ? 'ğŸ‘¤' : 'ğŸ‘¥'}}
          </view>
        </view>
      </view>
    </view>
  </view>

  <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
  <view class="main-content">
    <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
    <view class="progress-badge">
      <text>{{currentStep}}/{{totalSteps}}</text>
    </view>

    <!-- é—®é¢˜åŒºåŸŸ -->
    <view class="question-section">
      <view class="question-header">
        <view class="question-avatar">
          <image wx:if="{{tripInfo.currentUser.avatarUrl}}" src="{{tripInfo.currentUser.avatarUrl}}" class="avatar-image" mode="aspectFill" />
          <view wx:else class="avatar-icon">ğŸ‘¤</view>
        </view>
        <view class="question-content">
          <text class="question-title">{{question.title}}</text>
        </view>
      </view>

      <!-- é€‰é¡¹ç½‘æ ¼ -->
      <view class="options-list">
          <view class="option-item {{item.selected ? 'selected' : ''}}" 
                wx:for="{{question.options}}" 
                wx:key="id"
                bindtap="selectOption"
                data-option-id="{{item.id}}">
            <view class="option-icon">{{item.icon}}</view>
            <view class="option-content">
              <text class="option-text">{{item.text}}</text>
            </view>
          </view>
        </view>
    </view>
  </view>

  <!-- å®ŒæˆçŠ¶æ€åŒºåŸŸ - å½“æœ‰é€‰æ‹©æ—¶æ˜¾ç¤º -->
  <view class="completion-section" wx:if="{{selectedOptions.length > 0}}">
    <!-- ä¸¤ä¸ªä¸»è¦æŒ‰é’® -->
    <view class="action-buttons">
      <button class="generate-button" bindtap="generateTrip">
        <text>å»ç”Ÿæˆè¡Œç¨‹</text>
      </button>
      <button class="redo-button" bindtap="redoQuestions">
        <text>é‡åšä¸€é</text>
      </button>
    </view>
  </view>

  <!-- å›ºå®šåœ¨åº•éƒ¨çš„ä¸‹ä¸€æ­¥æŒ‰é’® - å½“æ²¡æœ‰é€‰æ‹©æ—¶æ˜¾ç¤º -->
  <view class="fixed-bottom-section" wx:if="{{selectedOptions.length === 0}}">
    <button class="next-button disabled" disabled="true">
      <text>è¯·é€‰æ‹©é€‰é¡¹</text>
    </button>
  </view>
</view>