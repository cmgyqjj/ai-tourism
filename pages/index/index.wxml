<!--index.wxml-->
<scroll-view class="page-scroll" scroll-y="true" enhanced="true" show-scrollbar="false">
  <view class="container">
    <!-- 导航栏 -->
    <view class="nav-bar">
      <view class="nav-left">
        <view class="logo-container">
          <image class="logo-text" src="https://p0.inf.test.sankuai.com/haikesong/31157c98c67a6f042e07e8ea3560ddf8177263.gif" mode="aspectFit"></image>
        </view>
      </view>
      <view class="search-btn">
        <image class="search-icon" src="https://p0.inf.test.sankuai.com/haikesong/157776f28d521dccfa0b4118c95164ac1456.png" mode="aspectFit"></image>
      </view>
    </view>

    <view class="main-content">
      <!-- 灵感专题 -->
      <view class="section">
        <view class="section-header">
          <text class="section-title">灵感专题</text>
          <view class="more-btn" bindtap="viewMoreTopics">
            <text>更多</text>
            <text class="arrow">></text>
          </view>
        </view>
        
        <scroll-view class="topic-scroll" scroll-x="true" enhanced="true" show-scrollbar="false" >
          <view class="topic-item">
            <image class="topic-image" src="https://p0.inf.test.sankuai.com/haikesong/2f1dc53abad23b9373ae0e042892d542610565.png" mode="aspectFit"></image>
          </view>
          
          <view class="topic-item">
            <image class="topic-image" src="https://p0.inf.test.sankuai.com/haikesong/fe9a93058bfb4556ad509dc7efe7153a603269.png" mode="aspectFit"></image>
          </view>
          
          <view class="topic-item">
            <image class="topic-image" src="https://p0.inf.test.sankuai.com/haikesong/fe9a93058bfb4556ad509dc7efe7153a603269.png" mode="aspectFit"></image>
          </view>
        </scroll-view>
      </view>

      <!-- 我的行程 -->
      <view class="section">
        <view class="section-header">
          <text class="section-title">我的行程</text>
        </view>
        
        <view class="trip-list">
          <!-- 法意12日游 -->
          <view class="trip-item" bindtap="viewTripDetailMap">
            <view class="trip-left">
              <view class="trip-header">
                <text class="trip-title">法意12日舒适游</text>
              </view>
              <view class="trip-details">
                <view class="trip-info-row">
                  <view class="info-item">
                    <text class="info-label">12天11晚</text>
                  </view>
                </view>
                <view class="trip-info-row">
                  <view class="info-item">
                    <text class="info-label">16个地点</text>
                  </view>
                </view>
                <view class="participants">
                  <view class="participant-avatars">
                    <image class="participant-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
                    <image class="participant-avatar" src="https://p0.inf.test.sankuai.com/haikesong/8a15ba3f510ddce04a0ffd2bbb6597cc3361.png" mode="aspectFill"></image>
                    <image class="participant-avatar" src="https://p0.inf.test.sankuai.com/haikesong/8a15ba3f510ddce04a0ffd2bbb6597cc3361.png" mode="aspectFill"></image>
                    <view class="trip-status">进行中...</view>
                  </view>
                </view>
              </view>
            </view>
            <view class="trip-right">
              <image class="trip-scenery" src="https://p0.inf.test.sankuai.com/haikesong/1321a7f38543ea9619ea9a91d73fc15c121844.png" mode="aspectFill"></image>
            </view>
          </view>
          
          <!-- 日本7日游 -->
          <view class="trip-item">
            <view class="trip-left">
              <view class="trip-header">
                <text class="trip-title">日本7日深度游</text>
              </view>
              <view class="trip-details">
                <view class="trip-info-row">
                  <view class="info-item">
                    <text class="info-label">7天6晚</text>
                  </view>
                </view>
                <view class="trip-info-row">
                  <view class="info-item">
                    <text class="info-label">12个地点</text>
                  </view>
                </view>
                <view class="participants">
                  <view class="participant-avatars">
                    <image class="participant-avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
                    <image class="participant-avatar" src="https://p0.inf.test.sankuai.com/haikesong/8a15ba3f510ddce04a0ffd2bbb6597cc3361.png" mode="aspectFill"></image>
                    <view class="trip-status">进行中...</view>
                  </view>
                </view>
              </view>
            </view>
            <view class="trip-right">
              <image class="trip-scenery" src="https://p0.inf.test.sankuai.com/haikesong/1321a7f38543ea9619ea9a91d73fc15c121844.png" mode="aspectFill"></image>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</scroll-view>

<!-- 底部导航栏 -->
<view class="bottom-nav">
  <view class="nav-item" bindtap="goToPlan">
    <image class="nav-image" src="/images/shoye/btn-trip-plan.png" mode="aspectFit" />
  </view>
  
  <view class="nav-item active" bindtap="showAiModal">
    <image class="nav-image-center" src="/images/shoye/btn-ai-strategy.png" mode="aspectFit" />
  </view>
  
  <view class="nav-item" bindtap="goToLogin">
    <image class="nav-image" src="/images/shoye/btn-user-center.png" mode="aspectFit" />
  </view>
</view>

<!-- 悬浮框遮罩层 -->
<view class="modal-overlay" wx:if="{{showModal}}" bindtap="hideModal">
  <!-- 创建新行程卡片 -->
  <view class="modal-card white-card" catchtap="createNewTrip">
    <view class="card-content">
      <view class="card-title">创建新行程</view>
      <view class="card-subtitle">支持多人协作、交通信息查询</view>
    </view>
    <view class="card-button">
      <text class="plus-icon">+</text>
    </view>
  </view>
  
  <!-- 编辑过往方案卡片 -->
  <view class="modal-card black-card" catchtap="editPastPlans">
    <view class="card-content">
      <view class="card-title">编辑过往方案</view>
      <view class="card-subtitle">支持多人协作、交通信息查询</view>
    </view>
    <view class="card-button">
      <text class="edit-icon">✏️</text>
    </view>
  </view>
  
  <!-- 关闭按钮 -->
  <view class="close-button" bindtap="hideModal">
    <text class="close-icon">✕</text>
  </view>
</view>
